<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.
">
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/weui.min.css">
    <link rel="stylesheet" href="../css/jquery-weui.min.css">
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/login.css">
    <script src="../js/setFontSize.js"></script>
    <title>登录</title>
</head>
<body>

    <div class="page">
        <div class="page__bd" style="height: 100%;">
            <div class="login_tab_box flex_start flex_items">
                <div class="flex1 on">账号登录</div>
                <div class="flex1">快捷登录</div>
            </div>
            <form action="" method="post" onsubmit="return submitRegiset()">
                <!-- 账号登录 -->
                <div class="bgfff mt20 tab1">
                    <div class="ipt_box pr30 flex_start flex_items">
                        <input class="flex1" name="phone" type="text" maxlength="15" placeholder="手机号" />
                    </div>
                    <div class="ipt_box flex_start flex_items">
                        <input class="flex1" name="password" type="password" maxlength="20" placeholder="密码" />
                    </div>
                </div>

                <!-- 快捷登录 -->
                <div class="bgfff mt20 tab2 hide">
                    <div class="ipt_box pr30 flex_start flex_items">
                        <input class="flex1" name="phone" type="text" maxlength="15" placeholder="手机号" />
                        <button type="button" class="code_btn">获取验证码</button>
                    </div>
                    <div class="ipt_box flex_start flex_items">
                        <input class="flex1" name="code" type="text" maxlength="6" placeholder="验证码" />
                    </div>
                </div>

                <button type="submit" class="submit_btn">登录</button>
            </form>
        </div>
    </div>


    <script type="text/javascript" src="../js/jquery-2.1.4.js"></script>
    <script type="text/javascript" src="../js/jquery-weui.min.js"></script>
    <script type='text/javascript' src='../js/swiper.js' charset='utf-8'></script>
    <script type="text/javascript">
        $('.login_tab_box').on('click', 'div', function() {
            if (!$(this).hasClass('on')) {
                var index = $(this).index();
                $(this).addClass('on').siblings().removeClass('on');
                if (index == 1) {
                    $('.tab2').show().prev().hide();
                } else {
                    $('.tab1').show().next().hide();
                }
            }
        })


        // 表单提交
        function submitRegiset() {
            var vals = $('form').serialize();
            var Op;
            if ($('.tab1').is(':hidden')) {//快捷登录
                console.log('快捷登录');
                Op = $('.tab2').find('input[name]');
            } else {//账号登录
                console.log('账号登录');
                Op = $('.tab1').find('input[name]');
            }
            var re = true;
            Op.each(function() {
                var val = $(this).val();
                if (!val || val == "" || val.length == 0) {
                    $(this).focus();
                    $.toast('信息填写不完整', 'text');
                    re = false;
                    return false;
                }
            })
            if (!re) return false;
                
            self.location.href = 'index.html';
            return false;
            
        }

    </script>
</body>
</html>